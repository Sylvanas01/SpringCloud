<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.hand.hiot.infra.mapper.CompanyMapper">

<select id="getCompanys" resultType="com.hand.hiot.domain.entity.Company" parameterType="com.hand.hiot.domain.entity.Company">
    SELECT company_id,
    company_number,
    company_name,
    company_logo
    FROM hiot_company_25160 WHERE enabled_flag=1
    <if test="companyNumber != '' and companyNumber != null">
        AND COMPANY_NUMBER LIKE concat('%',#{companyNumber},'%')
    </if>

    <if test="companyName != '' and companyName != null">
        AND COMPANY_NAME LIKE concat('%',#{companyName},'%')
    </if>

</select>

    <insert id="addCompany"  parameterType="com.hand.hiot.domain.entity.Company">
        INSERT INTO hiot_company_25160
        (`company_number`,`company_name`,`company_logo`)
        VALUES
        (#{companyNumber},#{companyName},#{companyLogo});
    </insert>


    <select id="getIdByNumber" resultType="java.lang.Long"
    parameterType="com.hand.hiot.domain.entity.Company">
 
   SELECT company_id
    FROM hiot_company_25160 WHERE company_number = #{companyNumber};

    </select>

    <select id="getNameById" resultType="java.lang.String"
            parameterType="com.hand.hiot.domain.entity.Company">

   SELECT company_name
    FROM hiot_company_25160 WHERE company_id = #{companyId};

    </select>
</mapper>